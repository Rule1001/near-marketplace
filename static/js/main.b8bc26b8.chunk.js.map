{"version":3,"sources":["utils/config.js","utils/near.js","components/Wallet.js","components/utils/Notifications.js","components/marketplace/AddProduct.js","components/marketplace/Product.js","components/utils/Loader.js","utils/marketplace.js","components/marketplace/Products.js","components/utils/Cover.js","assets/img/denmark.jpg","App.js","reportWebVitals.js","index.js"],"names":["CONTRACT_NAME","environment","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","Error","nearEnv","connect","Object","assign","deps","keyStore","keyStores","BrowserLocalStorageKeyStore","near","window","walletConnection","WalletConnection","accountId","getAccountId","contract","Contract","account","viewMethods","changeMethods","accountBalance","formatNearAmount","getAccountBalance","total","login","requestSignIn","logout","signOut","location","reload","Wallet","address","amount","symbol","destroy","Dropdown","Toggle","variant","align","id","className","Spinner","animation","size","Menu","Item","href","target","Stack","direction","gap","Divider","as","onClick","Notification","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","NotificationSuccess","text","NotificationError","DefaultProps","defaultProps","AddProduct","save","useState","name","setName","image","setImage","description","setDescription","setLocation","price","setPrice","show","setShow","handleClose","Button","style","width","Modal","onHide","centered","Header","closeButton","Title","Form","Body","FloatingLabel","controlId","label","Control","type","onChange","e","value","placeholder","height","Footer","disabled","Product","product","buy","sold","owner","Col","Card","Badge","bg","src","alt","objectFit","Text","utils","format","Loader","role","GAS","buyProduct","productId","Products","products","setProducts","loading","setLoading","getProducts","useCallback","console","log","error","addProduct","data","uuid4","parseNearAmount","setProduct","then","resp","toast","useEffect","Row","xs","sm","lg","map","_product","i","Cover","coverImg","background","minHeight","maxWidth","App","balance","setBalance","getBalance","Container","fluid","Nav","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","nearInitPromise","initializeContract","ReactDOM","render","StrictMode","document","getElementById","catch"],"mappings":"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","file":"static/js/main.b8bc26b8.chunk.js","sourcesContent":["const CONTRACT_NAME = \"ticketscontract.sailgp.testnet\"; // line 1\n\n\nfunction environment(env) {\n    switch (env) {\n        case \"mainnet\": // line 5\n            return {\n                networkId: \"mainnet\",\n                nodeUrl: \"https://rpc.mainnet.near.org\",\n                contractName: CONTRACT_NAME,\n                walletUrl: \"https://wallet.near.org\",\n                helperUrl: \"https://helper.mainnet.near.org\",\n                explorerUrl: \"https://explorer.mainnet.near.org\",\n            };\n        case \"testnet\": // line 14\n            return {\n                networkId: \"testnet\",\n                nodeUrl: \"https://rpc.testnet.near.org\",\n                contractName: CONTRACT_NAME,\n                walletUrl: \"https://wallet.testnet.near.org\",\n                helperUrl: \"https://helper.testnet.near.org\",\n                explorerUrl: \"https://explorer.testnet.near.org\",\n            };\n        default:\n            throw Error(`Unknown environment '${env}'.`);\n    }\n}\n\nexport default environment;\n","import environment from \"./config\";\nimport {connect, Contract, keyStores, WalletConnection} from \"near-api-js\";\nimport {formatNearAmount} from \"near-api-js/lib/utils/format\";\n\nconst nearEnv = environment(\"testnet\");\n\n\nexport async function initializeContract() {\n    const near = await connect(\n        Object.assign(\n            {deps: {keyStore: new keyStores.BrowserLocalStorageKeyStore()}},\n            nearEnv\n        )\n    );\n    window.walletConnection = new WalletConnection(near);\n    window.accountId = window.walletConnection.getAccountId();\n    window.contract = new Contract(\n        window.walletConnection.account(),\n        nearEnv.contractName,\n        {\n            viewMethods: [\"getProduct\", \"getProducts\"],\n            changeMethods: [\"buyProduct\", \"setProduct\"],\n        }\n    );\n}\n\n\nexport async function accountBalance() {\n    return formatNearAmount(\n        (await window.walletConnection.account().getAccountBalance()).total,\n        2\n    );\n}\n\nexport async function getAccountId() {\n    return window.walletConnection.getAccountId();\n}\n\nexport function login() {\n    window.walletConnection.requestSignIn(nearEnv.contractName);\n}\n\nexport function logout() {\n    window.walletConnection.signOut();\n    window.location.reload();\n}\n","import React from \"react\";\nimport {Dropdown, Stack, Spinner} from \"react-bootstrap\";\n\nconst Wallet = ({address, amount, symbol, destroy}) => {\n    if (address) {\n        return (\n            <>\n                <Dropdown>\n                    <Dropdown.Toggle\n                        variant=\"light\"\n                        align=\"end\"\n                        id=\"dropdown-basic\"\n                        className=\"d-flex align-items-center border rounded-pill py-1\"\n                    >\n                        {amount ? (\n                            <>\n                                {amount} <span className=\"ms-1\"> {symbol}</span>\n                            </>\n                        ) : (\n                            <Spinner animation=\"border\" size=\"sm\" className=\"opacity-25\"/>\n                        )}\n                    </Dropdown.Toggle>\n\n                    <Dropdown.Menu className=\"shadow-lg border-0\">\n                        <Dropdown.Item\n                            href={`https://explorer.testnet.near.org/accounts/${address}`}\n                            target=\"_blank\"\n                        >\n                            <Stack direction=\"horizontal\" gap={2}>\n                                <i className=\"bi bi-person-circle fs-4\"/>\n                                <span className=\"font-monospace\">{address}</span>\n                            </Stack>\n                        </Dropdown.Item>\n\n                        <Dropdown.Divider/>\n                        <Dropdown.Item\n                            as=\"button\"\n                            className=\"d-flex align-items-center\"\n                            onClick={() => {\n                                destroy();\n                            }}\n                        >\n                            <i className=\"bi bi-box-arrow-right me-2 fs-4\"/>\n                            Disconnect\n                        </Dropdown.Item>\n                    </Dropdown.Menu>\n                </Dropdown>\n            </>\n        );\n    }\n\n    return null;\n};\n\nexport default Wallet;\n","import React from \"react\";\nimport {ToastContainer} from \"react-toastify\";\nimport PropTypes from \"prop-types\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst Notification = () => (\n    <ToastContainer\n        position=\"bottom-center\"\n        autoClose={5000}\n        hideProgressBar\n        newestOnTop\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable={false}\n        pauseOnHover\n    />\n);\n\nconst NotificationSuccess = ({text}) => (\n    <div>\n        <i className=\"bi bi-check-circle-fill text-success mx-2\"/>\n        <span className=\"text-secondary mx-1\">{text}</span>\n    </div>\n);\n\nconst NotificationError = ({text}) => (\n    <div>\n        <i className=\"bi bi-x-circle-fill text-danger mx-2\"/>\n        <span className=\"text-secondary mx-1\">{text}</span>\n    </div>\n);\n\nconst Props = {\n    text: PropTypes.string,\n};\n\nconst DefaultProps = {\n    text: \"\",\n};\n\nNotificationSuccess.propTypes = Props;\nNotificationSuccess.defaultProps = DefaultProps;\n\nNotificationError.propTypes = Props;\nNotificationError.defaultProps = DefaultProps;\n\nexport {Notification, NotificationSuccess, NotificationError};\n","import React, {useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {Button, Modal, Form, FloatingLabel} from \"react-bootstrap\";\n\nconst AddProduct = ({save}) => {\n    const [name, setName] = useState(\"\");\n    const [image, setImage] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [location, setLocation] = useState(\"\");\n    const [price, setPrice] = useState(0);\n    const isFormFilled = () => name && image && description && location && price;\n\n    const [show, setShow] = useState(false);\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n    return (\n        <>\n            <Button\n                onClick={handleShow}\n                variant=\"dark\"\n                className=\"rounded-pill px-0\"\n                style={{width: \"38px\"}}\n            >\n                <i className=\"bi bi-plus\"></i>\n            </Button>\n            <Modal show={show} onHide={handleClose} centered>\n                <Modal.Header closeButton>\n                    <Modal.Title>New Product</Modal.Title>\n                </Modal.Header>\n                <Form>\n                    <Modal.Body>\n                        <FloatingLabel\n                            controlId=\"inputName\"\n                            label=\"Product name\"\n                            className=\"mb-3\"\n                        >\n                            <Form.Control\n                                type=\"text\"\n                                onChange={(e) => {\n                                    setName(e.target.value);\n                                }}\n                                placeholder=\"Enter name of product\"\n                            />\n                        </FloatingLabel>\n                        <FloatingLabel\n                            controlId=\"inputUrl\"\n                            label=\"Image URL\"\n                            className=\"mb-3\"\n                        >\n                            <Form.Control\n                                type=\"text\"\n                                placeholder=\"Image URL\"\n                                onChange={(e) => {\n                                    setImage(e.target.value);\n                                }}\n                            />\n                        </FloatingLabel>\n                        <FloatingLabel\n                            controlId=\"inputDescription\"\n                            label=\"Description\"\n                            className=\"mb-3\"\n                        >\n                            <Form.Control\n                                as=\"textarea\"\n                                placeholder=\"description\"\n                                style={{height: \"80px\"}}\n                                onChange={(e) => {\n                                    setDescription(e.target.value);\n                                }}\n                            />\n                        </FloatingLabel>\n                        <FloatingLabel\n                            controlId=\"inputLocation\"\n                            label=\"Location\"\n                            className=\"mb-3\"\n                        >\n                            <Form.Control\n                                type=\"text\"\n                                placeholder=\"Location\"\n                                onChange={(e) => {\n                                    setLocation(e.target.value);\n                                }}\n                            />\n                        </FloatingLabel>\n                        <FloatingLabel\n                            controlId=\"inputPrice\"\n                            label=\"Price\"\n                            className=\"mb-3\"\n                        >\n                            <Form.Control\n                                type=\"text\"\n                                placeholder=\"Price\"\n                                onChange={(e) => {\n                                    setPrice(e.target.value);\n                                }}\n                            />\n                        </FloatingLabel>\n                    </Modal.Body>\n                </Form>\n                <Modal.Footer>\n                    <Button variant=\"outline-secondary\" onClick={handleClose}>\n                        Close\n                    </Button>\n                    <Button\n                        variant=\"dark\"\n                        disabled={!isFormFilled()}\n                        onClick={() => {\n                            save({\n                                name,\n                                image,\n                                description,\n                                location,\n                                price,\n                            });\n                            handleClose();\n                        }}\n                    >\n                        Save product\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </>\n    );\n};\n\nAddProduct.propTypes = {\n    save: PropTypes.func.isRequired,\n};\n\nexport default AddProduct;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { utils } from \"near-api-js\";\nimport { Card, Button, Col, Badge, Stack } from \"react-bootstrap\";\n\nconst Product = ({ product, buy }) => {\n    const { id, price, name, description, sold, location, image, owner } =\n        product;\n\n    const triggerBuy = () => {\n        buy(id, price);\n    };\n\n    return (\n        <Col key={id}>\n            <Card className=\" h-100\">\n                <Card.Header>\n                    <Stack direction=\"horizontal\" gap={2}>\n                        <span className=\"font-monospace text-secondary\">{owner}</span>\n                        <Badge bg=\"secondary\" className=\"ms-auto\">\n                            {sold} Sold\n                        </Badge>\n                    </Stack>\n                </Card.Header>\n                <div className=\" ratio ratio-4x3\">\n                    <img src={image} alt={name} style={{ objectFit: \"cover\" }} />\n                </div>\n                <Card.Body className=\"d-flex  flex-column text-center\">\n                    <Card.Title>{name}</Card.Title>\n                    <Card.Text className=\"flex-grow-1 \">{description}</Card.Text>\n                    <Card.Text className=\"text-secondary\">\n                        <span>{location}</span>\n                    </Card.Text>\n                    <Button\n                        variant=\"outline-dark\"\n                        onClick={triggerBuy}\n                        className=\"w-100 py-3\"\n                    >\n                        Buy for {utils.format.formatNearAmount(price)} NEAR\n                    </Button>\n                </Card.Body>\n            </Card>\n        </Col>\n    );\n};\n\nProduct.propTypes = {\n    product: PropTypes.instanceOf(Object).isRequired,\n    buy: PropTypes.func.isRequired,\n};\n\nexport default Product;\n","import React from \"react\";\nimport { Spinner } from \"react-bootstrap\";\n\nconst Loader = () => (\n    <div className=\"d-flex justify-content-center\">\n        <Spinner animation=\"border\" role=\"status\" className=\"opacity-25\">\n            <span className=\"visually-hidden\">Loading...</span>\n        </Spinner>\n    </div>\n);\nexport default Loader;\n","import { v4 as uuid4 } from \"uuid\";\nimport { parseNearAmount } from \"near-api-js/lib/utils/format\";\n\nconst GAS = 100000000000000;\n\nexport function createProduct(product) {\n    product.id = uuid4();\n    product.price = parseNearAmount(product.price + \"\");\n    return window.contract.setProduct({ product });\n}\n\nexport function getProducts() {\n    return window.contract.getProducts();\n}\n\nexport async function buyProduct({ id, price }) {\n    await window.contract.buyProduct({ productId: id }, GAS, price);\n}\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\nimport AddProduct from \"./AddProduct\";\nimport Product from \"./Product\";\nimport Loader from \"../utils/Loader\";\nimport { Row } from \"react-bootstrap\";\nimport { NotificationSuccess, NotificationError } from \"../utils/Notifications\";\nimport {\n    getProducts as getProductList,\n    buyProduct,\n    createProduct,\n} from \"../../utils/marketplace\";\n\n\nconst Products = () => {\n    const [products, setProducts] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    const getProducts = useCallback(async () => {\n        try {\n            setLoading(true);\n            setProducts(await getProductList());\n        } catch (error) {\n            console.log({ error });\n        } finally {\n            setLoading(false);\n        }\n    });\n\n    const addProduct = async (data) => {\n        try {\n            setLoading(true);\n            createProduct(data).then((resp) => {\n                getProducts();\n            });\n            toast(<NotificationSuccess text=\"Product added successfully.\" />);\n        } catch (error) {\n            console.log({ error });\n            toast(<NotificationError text=\"Failed to create a product.\" />);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const buy = async (id, price) => {\n        try {\n            await buyProduct({\n                id,\n                price,\n            }).then((resp) => getProducts());\n            toast(<NotificationSuccess text=\"Product bought successfully\" />);\n        } catch (error) {\n            toast(<NotificationError text=\"Failed to purchase product.\" />);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        getProducts();\n    }, []);\n\n    return (\n        <>\n            {!loading ? (\n                <>\n                    <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                        <h1 className=\"fs-4 fw-bold mb-0\">SailGP Tickets Available</h1>\n                        <AddProduct save={addProduct} />\n                    </div>\n                    <Row xs={1} sm={2} lg={3} className=\"g-3  mb-5 g-xl-4 g-xxl-5\">\n                        {products.map((_product, i) => (\n                            <Product\n                                key={i}\n                                product={{\n                                    ..._product,\n                                }}\n                                buy={buy}\n                            />\n                        ))}\n                    </Row>\n                </>\n            ) : (\n                <Loader />\n            )}\n        </>\n    );\n};\n\nexport default Products;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {Button} from \"react-bootstrap\";\n\nconst Cover = ({name, login, coverImg}) => {\n    if ((name, login, coverImg)) {\n        return (\n            <div\n                className=\"d-flex justify-content-center flex-column text-center \"\n                style={{background: \"#000\", minHeight: \"100vh\"}}\n            >\n                <div className=\"mt-auto text-light mb-5\">\n                    <div\n                        className=\" ratio ratio-1x1 mx-auto mb-2\"\n                        style={{maxWidth: \"320px\"}}\n                    >\n                        <img src={coverImg} alt=\"\" style={{\n                            objectFit: 'cover'\n                        }}/>\n                    </div>\n                    <h1>{name}</h1>\n                    <p>Please connect your wallet to continue.</p>\n                    <Button\n                        onClick={login}\n                        variant=\"outline-light\"\n                        className=\"rounded-pill px-3 mt-3\"\n                    >\n                        Connect Wallet\n                    </Button>\n                </div>\n                <p className=\"mt-auto text-secondary\">Powered by NEAR</p>\n            </div>\n        );\n    }\n    return null;\n};\n\nCover.propTypes = {\n    name: PropTypes.string,\n};\n\nCover.defaultProps = {\n    name: \"\",\n};\n\nexport default Cover;\n","export default __webpack_public_path__ + \"static/media/denmark.eced056e.jpg\";","import React, {useEffect, useCallback, useState} from \"react\";\nimport {Container, Nav} from \"react-bootstrap\";\nimport {login, logout as destroy, accountBalance} from \"./utils/near\";\nimport Wallet from \"./components/Wallet\";\nimport { Notification } from \"./components/utils/Notifications\";\nimport Products from \"./components/marketplace/Products\";\nimport Cover from \"./components/utils/Cover\";\nimport coverImg from \"./assets/img/denmark.jpg\";\nimport \"./App.css\";\n\nconst App = function AppWrapper() {\n    const account = window.walletConnection.account();\n    const [balance, setBalance] = useState(\"0\");\n    const getBalance = useCallback(async () => {\n        if (account.accountId) {\n            setBalance(await accountBalance());\n        }\n    });\n\n    useEffect(() => {\n        getBalance();\n    }, [getBalance]);\n    return (\n        <>\n             <Notification />\n            {account.accountId ? (\n                <Container fluid=\"md\">\n                    <Nav className=\"justify-content-end pt-3 pb-5\">\n                        <Nav.Item>\n                            <Wallet\n                                address={account.accountId}\n                                amount={balance}\n                                symbol=\"NEAR\"\n                                destroy={destroy}\n                            />\n                        </Nav.Item>\n                    </Nav>\n                    <main>{<Products /> }</main>\n                </Container>\n            ) : (\n                <Cover name=\"Sailgp Event Tickets\" login={login} coverImg={coverImg}/>\n            )}\n        </>\n    );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { initializeContract } from \"./utils/near\";\n\nimport \"bootstrap\";\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nwindow.nearInitPromise = initializeContract()\n    .then(() => {\n        ReactDOM.render(\n            <React.StrictMode>\n                <App />\n            </React.StrictMode>,\n            document.getElementById(\"root\")\n        );\n    })\n    .catch(console.error);\n\nreportWebVitals();\n"],"sourceRoot":""}